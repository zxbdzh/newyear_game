# æ–°å¹´çƒŸèŠ±æ¸¸æˆ (New Year Fireworks Game)

ä¸€æ¬¾åŸºäºWebçš„èŠ‚æ—¥ä¸»é¢˜äº’åŠ¨æ¸¸æˆï¼Œè®©ç”¨æˆ·åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½“éªŒç‡ƒæ”¾çƒŸèŠ±çš„ä¹è¶£ï¼ŒåŒæ—¶å€’è®¡æ—¶è¿æ¥å†œå†æ–°å¹´ã€‚

## æ ¸å¿ƒåŠŸèƒ½

- ğŸ† **äº¤äº’å¼çƒŸèŠ±ç³»ç»Ÿ** - ç‚¹å‡»å±å¹•ç‡ƒæ”¾5ç§ä»¥ä¸ŠçƒŸèŠ±ç±»å‹
- â° **3Då€’è®¡æ—¶æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºè·ç¦»å†œå†æ–°å¹´çš„å‰©ä½™æ—¶é—´
- ğŸ‘¤ **å•äººæ¨¡å¼** - æ”¶é›†çƒŸèŠ±æ ·å¼ã€è¿½è¸ªç»Ÿè®¡ã€è§£é”æˆå°±
- ğŸ‘¥ **å¤šäººæ¨¡å¼** - æ”¯æŒå…¬å…±/ç§äººæˆ¿é—´ï¼Œå®æ—¶åŒæ­¥çƒŸèŠ±æ“ä½œ
- ğŸ”¥ **è¿å‡»ç³»ç»Ÿ** - å¿«é€Ÿè¿ç»­ç‚¹å‡»è§¦å‘å¢å¼ºæ•ˆæœ
- âœ¨ **ç‰¹æ®Šäº‹ä»¶** - æ•´ç‚¹çƒŸèŠ±é›¨ã€æ–°å¹´ç¥ç¦åŠ¨ç”»

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 19 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 8
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit
- **æ¸²æŸ“**: Canvas 2D API / WebGL
- **å®æ—¶é€šä¿¡**: Socket.io Client
- **éŸ³é¢‘**: Web Audio API
- **å­˜å‚¨**: IndexedDB
- **æµ‹è¯•**: Vitest + fast-check (å±æ€§æµ‹è¯•)

### åç«¯
- **è¿è¡Œæ—¶**: Node.js 18+
- **æ¡†æ¶**: Express 4.18.2
- **WebSocket**: Socket.io 4.8.3
- **è¯­è¨€**: TypeScript 5.3.3
- **å¼€å‘å·¥å…·**: tsx 4.7.0

## å¿«é€Ÿå¼€å§‹

### å‰ç«¯å¼€å‘

```cmd
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

### åç«¯å¼€å‘

```cmd
# è¿›å…¥serverç›®å½•
cd server

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨WebSocketæœåŠ¡å™¨
pnpm dev
```

è¯¦ç»†çš„æœåŠ¡å™¨å®‰è£…å’Œé…ç½®è¯´æ˜è¯·å‚è€ƒ [server/INSTALL.md](server/INSTALL.md)ã€‚

### æ„å»º

```cmd
pnpm run build
pnpm run preview
```

### æµ‹è¯•

```cmd
pnpm test              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test --run        # å•æ¬¡è¿è¡Œï¼ˆä¸ä½¿ç”¨watchæ¨¡å¼ï¼‰
pnpm test:unit         # è¿è¡Œå•å…ƒæµ‹è¯•
pnpm test:pbt          # è¿è¡Œå±æ€§æµ‹è¯•
pnpm test:ui           # æµ‹è¯•UIç•Œé¢
```

#### å±æ€§æµ‹è¯• (Property-Based Testing)

é¡¹ç›®ä½¿ç”¨ [fast-check](https://github.com/dubzzz/fast-check) è¿›è¡Œå±æ€§æµ‹è¯•ï¼ŒéªŒè¯ç³»ç»Ÿçš„æ­£ç¡®æ€§å±æ€§ã€‚å±æ€§æµ‹è¯•æ–‡ä»¶ä½¿ç”¨ `.pbt.test.ts` åç¼€ã€‚

**ç½‘ç»œåŒæ­¥å±æ€§æµ‹è¯•** (`src/services/NetworkSynchronizer.pbt.test.ts`):
- **å±æ€§ 15**: çƒŸèŠ±åŠ¨ä½œå¹¿æ’­ - éªŒè¯çƒŸèŠ±åŠ¨ä½œæ­£ç¡®å¹¿æ’­åˆ°æˆ¿é—´å†…æ‰€æœ‰å…¶ä»–ç©å®¶
- **å±æ€§ 16**: åœ¨çº¿ç©å®¶æ•°é‡ä¸€è‡´æ€§ - éªŒè¯æ˜¾ç¤ºçš„ç©å®¶æ•°é‡ä¸å®é™…ä¸€è‡´
- **å±æ€§ 17**: æ’è¡Œæ¦œæ’åºæ­£ç¡®æ€§ - éªŒè¯TOP3ç©å®¶æŒ‰çƒŸèŠ±æ•°é‡é™åºæ’åˆ—
- **å±æ€§ 27**: æˆ¿é—´å®¹é‡é™åˆ¶ - éªŒè¯æˆ¿é—´æ»¡å‘˜æ—¶æ‹’ç»æ–°ç©å®¶åŠ å…¥

æ¯ä¸ªå±æ€§æµ‹è¯•è¿è¡Œ100æ¬¡è¿­ä»£ï¼Œä½¿ç”¨éšæœºç”Ÿæˆçš„æµ‹è¯•æ•°æ®éªŒè¯ç³»ç»Ÿä¸å˜é‡ã€‚

### ä»£ç è´¨é‡

```cmd
pnpm run lint          # ä»£ç æ£€æŸ¥
pnpm run format        # ä»£ç æ ¼å¼åŒ–
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/        # Reactç»„ä»¶
â”œâ”€â”€ engines/           # æ¸¸æˆå¼•æ“ï¼ˆçƒŸèŠ±ã€å€’è®¡æ—¶ï¼‰
â”œâ”€â”€ services/          # æœåŠ¡å±‚ï¼ˆç½‘ç»œã€éŸ³é¢‘ã€å­˜å‚¨ï¼‰
â”œâ”€â”€ store/             # ReduxçŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â””â”€â”€ assets/            # é™æ€èµ„æº
```

## æ–‡æ¡£

- ğŸ“‹ [éœ€æ±‚æ–‡æ¡£](.kiro/specs/new-year-fireworks-game/requirements.md)
- ğŸ¨ [è®¾è®¡æ–‡æ¡£](.kiro/specs/new-year-fireworks-game/design.md)
- âœ… [ä»»åŠ¡åˆ—è¡¨](.kiro/specs/new-year-fireworks-game/tasks.md)
- ğŸ“Š [é¡¹ç›®çŠ¶æ€](PROJECT_STATUS.md)

## æ€§èƒ½è¦æ±‚

- ç›®æ ‡å¸§ç‡: â‰¥30 FPS (ä½é…) / â‰¥60 FPS (é«˜é…)
- ç½‘ç»œå»¶è¿Ÿ: â‰¤1ç§’ (å¤šäººåŒæ­¥)
- é¦–å±åŠ è½½: â‰¤3ç§’

## å…¼å®¹æ€§

- æµè§ˆå™¨: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- ç§»åŠ¨è®¾å¤‡: iOS 14+, Android 8+
- å±å¹•å°ºå¯¸: 320px - 4K
